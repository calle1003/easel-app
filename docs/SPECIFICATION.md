# ğŸ“‹ easel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä»•æ§˜æ›¸

> **æœ€çµ‚æ›´æ–°**: 2025 å¹´ 12 æœˆ 11 æ—¥  
> **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.2.0

æ¼”åŠ‡ãƒ»å…¬æ¼”ãƒã‚±ãƒƒãƒˆè²©å£² Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ**easel**ã€ã®ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸ã§ã™ã€‚

---

## ğŸ“‘ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#2-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#3-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
4. [API ä»•æ§˜](#4-api-ä»•æ§˜)
5. [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ](#5-ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ)
6. [èªè¨¼ãƒ»èªå¯](#6-èªè¨¼èªå¯)
7. [ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ](#7-ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ )
8. [ç’°å¢ƒè¨­å®š](#8-ç’°å¢ƒè¨­å®š)
9. [ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](#9-ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆæƒ…å ±

| é …ç›®     | å†…å®¹                              |
| :------- | :-------------------------------- |
| **åç§°** | easel                             |
| **ç¨®åˆ¥** | ãƒã‚±ãƒƒãƒˆè²©å£² Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ |
| **å¯¾è±¡** | æ¼”åŠ‡ãƒ»å…¬æ¼”ã‚¤ãƒ™ãƒ³ãƒˆ                |

### 1.2 ä¸»è¦æ©Ÿèƒ½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      easel ã‚·ã‚¹ãƒ†ãƒ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ©Ÿèƒ½ã€‘              ã€ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½ã€‘        â”‚
â”‚  â”œâ”€ å…¬æ¼”æƒ…å ±é–²è¦§                  â”œâ”€ ãƒ‹ãƒ¥ãƒ¼ã‚¹ç®¡ç†           â”‚
â”‚  â”œâ”€ ãƒ‹ãƒ¥ãƒ¼ã‚¹é–²è¦§                  â”œâ”€ å…¬æ¼”ç®¡ç†               â”‚
â”‚  â”œâ”€ ãƒã‚±ãƒƒãƒˆè³¼å…¥                  â”œâ”€ å¼•æ›åˆ¸ã‚³ãƒ¼ãƒ‰ç®¡ç†       â”‚
â”‚  â”‚   â”œâ”€ å…¬æ¼”æ—¥é¸æŠ                â”œâ”€ ãƒã‚±ãƒƒãƒˆç®¡ç†           â”‚
â”‚  â”‚   â”œâ”€ åº§å¸­ç¨®åˆ¥é¸æŠ              â”‚   â”œâ”€ ãƒã‚±ãƒƒãƒˆè©³ç´°       â”‚
â”‚  â”‚   â”œâ”€ å¼•æ›åˆ¸ã‚³ãƒ¼ãƒ‰é©ç”¨          â”‚   â””â”€ QRã‚³ãƒ¼ãƒ‰è¡¨ç¤º       â”‚
â”‚  â”‚   â”œâ”€ Stripe æ±ºæ¸ˆ               â”œâ”€ å…¥å ´ãƒã‚§ãƒƒã‚¯           â”‚
â”‚  â”‚   â””â”€ è³¼å…¥å®Œäº†ãƒ¡ãƒ¼ãƒ«é€ä¿¡        â”‚   â”œâ”€ QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³   â”‚
â”‚  â””â”€ ãŠå•ã„åˆã‚ã›                  â”‚   â”œâ”€ ãƒã‚±ãƒƒãƒˆæ¤œè¨¼       â”‚
â”‚                                   â”‚   â””â”€ å…¥å ´å‡¦ç†           â”‚
â”‚                                   â””â”€ å£²ä¸Šçµ±è¨ˆ               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 2.1 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚â”€â”€â”€â”€â–¶â”‚   Frontend   â”‚â”€â”€â”€â”€â–¶â”‚   Backend    â”‚
â”‚              â”‚     â”‚   (React)    â”‚     â”‚ (Spring Boot)â”‚
â”‚  - Chrome    â”‚     â”‚              â”‚     â”‚              â”‚
â”‚  - Safari    â”‚     â”‚  Port: 5173  â”‚     â”‚  Port: 8080  â”‚
â”‚  - Firefox   â”‚     â”‚              â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                     â”‚                     â”‚             â”‚
                           â–¼                     â–¼                     â–¼             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    MySQL     â”‚     â”‚    Stripe    â”‚     â”‚     JWT      â”‚ â”‚   Gmail    â”‚
                    â”‚   Database   â”‚     â”‚   Checkout   â”‚     â”‚     Auth     â”‚ â”‚    SMTP    â”‚
                    â”‚              â”‚     â”‚              â”‚     â”‚              â”‚ â”‚            â”‚
                    â”‚  Port: 3306  â”‚     â”‚   Webhook    â”‚     â”‚   HS256      â”‚ â”‚  Port: 587 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| æŠ€è¡“           | ç”¨é€”                     |
| :------------- | :----------------------- |
| React 18       | UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯        |
| TypeScript     | å‹å®‰å…¨ãªé–‹ç™º             |
| Vite           | ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«             |
| Tailwind CSS   | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°             |
| React Router 6 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°             |
| Lucide React   | ã‚¢ã‚¤ã‚³ãƒ³                 |
| ZXing          | QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ãƒ»ç”Ÿæˆ   |

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

| æŠ€è¡“              | ç”¨é€”               |
| :---------------- | :----------------- |
| Java 17+          | è¨€èª               |
| Spring Boot 3     | Web ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| Spring Security 6 | èªè¨¼ãƒ»èªå¯         |
| Spring Data JPA   | ORM                |
| Spring Mail       | ãƒ¡ãƒ¼ãƒ«é€ä¿¡         |
| MySQL 8           | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹       |
| Stripe SDK        | æ±ºæ¸ˆé€£æº           |
| JJWT              | JWT èªè¨¼           |
| ZXing             | QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ       |

### 2.3 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
easel/
â”œâ”€â”€ frontend/                 # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pages/            # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/        # ç®¡ç†ç”»é¢
â”‚   â”‚   â”‚   â”œâ”€â”€ easel-live/   # å…¬æ¼”ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ news/         # ãƒ‹ãƒ¥ãƒ¼ã‚¹
â”‚   â”‚   â”‚   â””â”€â”€ ticket/       # ãƒã‚±ãƒƒãƒˆè³¼å…¥
â”‚   â”‚   â””â”€â”€ utils/            # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ public/               # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â””â”€â”€ backend/                  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
    â””â”€â”€ src/main/java/com/example/backend/
        â”œâ”€â”€ config/           # è¨­å®šã‚¯ãƒ©ã‚¹
        â”œâ”€â”€ controller/       # REST ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
        â”œâ”€â”€ entity/           # JPA ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
        â”œâ”€â”€ repository/       # ãƒªãƒã‚¸ãƒˆãƒª
        â”œâ”€â”€ service/          # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
        â””â”€â”€ security/         # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£
```

---

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 3.1 ER å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   admin_users   â”‚          â”‚   performances  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id           â”‚          â”‚ PK id           â”‚
â”‚    email        â”‚          â”‚    title        â”‚
â”‚    password     â”‚          â”‚    volume       â”‚
â”‚    name         â”‚          â”‚    date / time  â”‚
â”‚    role         â”‚          â”‚    venue        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚    prices       â”‚
                             â”‚    capacity     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚    sale_status  â”‚
â”‚      news       â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id           â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    title        â”‚          â”‚ exchange_codes  â”‚
â”‚    content      â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    category     â”‚          â”‚ PK id           â”‚
â”‚    published_at â”‚          â”‚ UK code         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚    performer    â”‚
                             â”‚    is_used      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ FK order_id     â”‚
â”‚     orders      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ PK id           â”‚    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UK session_id   â”‚    â”‚     â”‚     tickets     â”‚
â”‚    performance  â”‚    â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    quantities   â”‚    â””â”€â”€â”€â”€â–¶â”‚ PK id           â”‚
â”‚    customer     â”‚          â”‚ FK order_id     â”‚
â”‚    status       â”‚          â”‚ UK ticket_code  â”‚
â”‚    amounts      â”‚          â”‚    ticket_type  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚    is_exchanged â”‚
                             â”‚    is_used      â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

<details>
<summary><b>ğŸ“‹ news</b> - ãƒ‹ãƒ¥ãƒ¼ã‚¹</summary>

| ã‚«ãƒ©ãƒ        | å‹           | åˆ¶ç´„               | èª¬æ˜     |
| :----------- | :----------- | :----------------- | :------- |
| id           | BIGINT       | PK, AUTO_INCREMENT | ä¸»ã‚­ãƒ¼   |
| title        | VARCHAR(255) | NOT NULL           | ã‚¿ã‚¤ãƒˆãƒ« |
| content      | TEXT         | -                  | æœ¬æ–‡     |
| published_at | DATETIME     | NOT NULL           | å…¬é–‹æ—¥æ™‚ |
| category     | VARCHAR(100) | -                  | ã‚«ãƒ†ã‚´ãƒª |

**ã‚«ãƒ†ã‚´ãƒªå€¤**: `å…¬æ¼”æƒ…å ±` / `ãŠçŸ¥ã‚‰ã›` / `ãƒ¡ãƒ‡ã‚£ã‚¢`

</details>

<details>
<summary><b>ğŸ« exchange_codes</b> - å¼•æ›åˆ¸ã‚³ãƒ¼ãƒ‰</summary>

| ã‚«ãƒ©ãƒ          | å‹           | åˆ¶ç´„                    | èª¬æ˜           |
| :------------- | :----------- | :---------------------- | :------------- |
| id             | BIGINT       | PK, AUTO_INCREMENT      | ä¸»ã‚­ãƒ¼         |
| code           | VARCHAR(50)  | NOT NULL, UNIQUE        | ã‚³ãƒ¼ãƒ‰         |
| performer_name | VARCHAR(100) | -                       | ç™ºè¡Œã—ãŸå‡ºæ¼”è€… |
| is_used        | BOOLEAN      | NOT NULL, DEFAULT false | ä½¿ç”¨æ¸ˆã¿       |
| used_at        | DATETIME     | -                       | ä½¿ç”¨æ—¥æ™‚       |
| order_id       | BIGINT       | FK                      | æ³¨æ–‡ ID        |
| created_at     | DATETIME     | NOT NULL                | ä½œæˆæ—¥æ™‚       |

</details>

<details>
<summary><b>ğŸ›’ orders</b> - æ³¨æ–‡</summary>

| ã‚«ãƒ©ãƒ                    | å‹           | åˆ¶ç´„               | èª¬æ˜                       |
| :----------------------- | :----------- | :----------------- | :------------------------- |
| id                       | BIGINT       | PK, AUTO_INCREMENT | ä¸»ã‚­ãƒ¼                     |
| stripe_session_id        | VARCHAR(255) | UNIQUE             | Stripe Session ID          |
| stripe_payment_intent_id | VARCHAR(255) | -                  | Payment Intent ID          |
| performance_date         | VARCHAR(50)  | NOT NULL           | å…¬æ¼”æ—¥                     |
| performance_label        | VARCHAR(100) | -                  | è¡¨ç¤ºç”¨ãƒ©ãƒ™ãƒ«               |
| general_quantity         | INT          | NOT NULL           | ä¸€èˆ¬å¸­æšæ•°                 |
| reserved_quantity        | INT          | NOT NULL           | æŒ‡å®šå¸­æšæ•°                 |
| general_price            | INT          | NOT NULL           | ä¸€èˆ¬å¸­å˜ä¾¡                 |
| reserved_price           | INT          | NOT NULL           | æŒ‡å®šå¸­å˜ä¾¡                 |
| discounted_general_count | INT          | DEFAULT 0          | å¼•æ›åˆ¸é©ç”¨æšæ•°             |
| discount_amount          | INT          | DEFAULT 0          | å‰²å¼•é‡‘é¡                   |
| exchange_codes           | VARCHAR(500) | -                  | ä½¿ç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰ |
| total_amount             | INT          | NOT NULL           | åˆè¨ˆé‡‘é¡                   |
| customer_name            | VARCHAR(100) | NOT NULL           | é¡§å®¢å                     |
| customer_email           | VARCHAR(255) | NOT NULL           | ãƒ¡ãƒ¼ãƒ«                     |
| customer_phone           | VARCHAR(20)  | -                  | é›»è©±ç•ªå·                   |
| status                   | ENUM         | NOT NULL           | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹                 |
| created_at               | DATETIME     | NOT NULL           | ä½œæˆæ—¥æ™‚                   |
| paid_at                  | DATETIME     | -                  | æ”¯æ‰•æ—¥æ™‚                   |
| cancelled_at             | DATETIME     | -                  | ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ—¥æ™‚             |

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤**: `PENDING` / `PAID` / `CANCELLED` / `REFUNDED`

</details>

<details>
<summary><b>ğŸŸï¸ tickets</b> - ãƒã‚±ãƒƒãƒˆ</summary>

| ã‚«ãƒ©ãƒ        | å‹          | åˆ¶ç´„               | èª¬æ˜                   |
| :----------- | :---------- | :----------------- | :--------------------- |
| id           | BIGINT      | PK, AUTO_INCREMENT | ä¸»ã‚­ãƒ¼                 |
| order_id     | BIGINT      | FK, NOT NULL       | æ³¨æ–‡ ID                |
| ticket_code  | VARCHAR(36) | NOT NULL, UNIQUE   | ãƒã‚±ãƒƒãƒˆã‚³ãƒ¼ãƒ‰ (UUID)  |
| ticket_type  | ENUM        | NOT NULL           | ãƒã‚±ãƒƒãƒˆç¨®åˆ¥           |
| is_exchanged | BOOLEAN     | NOT NULL           | å¼•æ›åˆ¸åˆ©ç”¨ãƒ•ãƒ©ã‚°       |
| is_used      | BOOLEAN     | NOT NULL           | ä½¿ç”¨æ¸ˆã¿ãƒ•ãƒ©ã‚°ï¼ˆå…¥å ´ï¼‰ |
| used_at      | DATETIME    | -                  | ä½¿ç”¨æ—¥æ™‚ï¼ˆå…¥å ´æ—¥æ™‚ï¼‰   |
| created_at   | DATETIME    | NOT NULL           | ä½œæˆæ—¥æ™‚               |

**ãƒã‚±ãƒƒãƒˆç¨®åˆ¥**: `GENERAL`ï¼ˆä¸€èˆ¬å¸­ï¼‰ / `RESERVED`ï¼ˆæŒ‡å®šå¸­ï¼‰

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:

- `idx_ticket_code` (ticket_code)
- `idx_ticket_order` (order_id)
- `idx_ticket_type` (ticket_type)

</details>

<details>
<summary><b>ğŸ­ performances</b> - å…¬æ¼”</summary>

| ã‚«ãƒ©ãƒ             | å‹           | åˆ¶ç´„               | èª¬æ˜            |
| :---------------- | :----------- | :----------------- | :-------------- |
| id                | BIGINT       | PK, AUTO_INCREMENT | ä¸»ã‚­ãƒ¼          |
| title             | VARCHAR(255) | NOT NULL           | ã‚¿ã‚¤ãƒˆãƒ«        |
| volume            | VARCHAR(50)  | -                  | vol.1, vol.2 ç­‰ |
| performance_date  | DATE         | NOT NULL           | å…¬æ¼”æ—¥          |
| performance_time  | TIME         | NOT NULL           | é–‹æ¼”æ™‚é–“        |
| doors_open_time   | TIME         | -                  | é–‹å ´æ™‚é–“        |
| venue_name        | VARCHAR(255) | NOT NULL           | ä¼šå ´å          |
| venue_address     | VARCHAR(255) | -                  | ä½æ‰€            |
| venue_access      | TEXT         | -                  | ã‚¢ã‚¯ã‚»ã‚¹        |
| general_price     | INT          | NOT NULL           | ä¸€èˆ¬å¸­ä¾¡æ ¼      |
| reserved_price    | INT          | NOT NULL           | æŒ‡å®šå¸­ä¾¡æ ¼      |
| general_capacity  | INT          | DEFAULT 0          | ä¸€èˆ¬å¸­å®šå“¡      |
| reserved_capacity | INT          | DEFAULT 0          | æŒ‡å®šå¸­å®šå“¡      |
| general_sold      | INT          | DEFAULT 0          | ä¸€èˆ¬å¸­è²©å£²æ¸ˆ    |
| reserved_sold     | INT          | DEFAULT 0          | æŒ‡å®šå¸­è²©å£²æ¸ˆ    |
| sale_status       | ENUM         | NOT NULL           | è²©å£²çŠ¶æ…‹        |
| sale_start_at     | DATETIME     | -                  | è²©å£²é–‹å§‹        |
| sale_end_at       | DATETIME     | -                  | è²©å£²çµ‚äº†        |
| flyer_image_url   | VARCHAR(255) | -                  | ãƒ•ãƒ©ã‚¤ãƒ¤ãƒ¼ URL  |
| description       | TEXT         | -                  | èª¬æ˜            |
| created_at        | DATETIME     | NOT NULL           | ä½œæˆæ—¥æ™‚        |
| updated_at        | DATETIME     | -                  | æ›´æ–°æ—¥æ™‚        |

**è²©å£²çŠ¶æ…‹**: `NOT_ON_SALE` / `ON_SALE` / `SOLD_OUT` / `ENDED`

</details>

<details>
<summary><b>ğŸ‘¤ admin_users</b> - ç®¡ç†è€…</summary>

| ã‚«ãƒ©ãƒ         | å‹           | åˆ¶ç´„               | èª¬æ˜                |
| :------------ | :----------- | :----------------- | :------------------ |
| id            | BIGINT       | PK, AUTO_INCREMENT | ä¸»ã‚­ãƒ¼              |
| email         | VARCHAR(255) | NOT NULL, UNIQUE   | ãƒ¡ãƒ¼ãƒ«              |
| password      | VARCHAR(255) | NOT NULL           | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (BCrypt) |
| name          | VARCHAR(100) | NOT NULL           | åå‰                |
| role          | ENUM         | NOT NULL           | æ¨©é™                |
| created_at    | DATETIME     | NOT NULL           | ä½œæˆæ—¥æ™‚            |
| last_login_at | DATETIME     | -                  | æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³        |

**æ¨©é™**: `ADMIN` / `SUPER_ADMIN`

</details>

---

## 4. API ä»•æ§˜

### 4.1 ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

#### ğŸ”“ å…¬é–‹ APIï¼ˆèªè¨¼ä¸è¦ï¼‰

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ                        | èª¬æ˜               |
| :------- | :------------------------------------ | :----------------- |
| POST     | `/api/auth/login`                     | ãƒ­ã‚°ã‚¤ãƒ³           |
| GET      | `/api/news`                           | ãƒ‹ãƒ¥ãƒ¼ã‚¹ä¸€è¦§       |
| GET      | `/api/news/{id}`                      | ãƒ‹ãƒ¥ãƒ¼ã‚¹è©³ç´°       |
| GET      | `/api/performances`                   | å…¬æ¼”ä¸€è¦§           |
| GET      | `/api/performances/{id}`              | å…¬æ¼”è©³ç´°           |
| GET      | `/api/performances/on-sale`           | è²©å£²ä¸­å…¬æ¼”         |
| GET      | `/api/performances/{id}/availability` | æ®‹å¸­æƒ…å ±           |
| POST     | `/api/exchange-codes/validate`        | ã‚³ãƒ¼ãƒ‰æ¤œè¨¼         |
| POST     | `/api/exchange-codes/validate-batch`  | ã‚³ãƒ¼ãƒ‰ä¸€æ‹¬æ¤œè¨¼     |
| POST     | `/api/payment/checkout`               | æ±ºæ¸ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ |
| POST     | `/api/webhook/stripe`                 | Stripe Webhook     |
| GET      | `/api/qrcode/ticket/{ticketCode}`     | QRã‚³ãƒ¼ãƒ‰ç”»åƒå–å¾—   |
| GET      | `/api/qrcode/ticket/{code}/base64`    | QRã‚³ãƒ¼ãƒ‰Base64å–å¾— |
| GET      | `/api/orders/by-session/{sessionId}`  | Session IDã§æ³¨æ–‡å–å¾—|

#### ğŸ” ç®¡ç† APIï¼ˆèªè¨¼å¿…è¦ï¼‰

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ                       | èª¬æ˜           |
| :------- | :----------------------------------- | :------------- |
| POST     | `/api/news`                          | ãƒ‹ãƒ¥ãƒ¼ã‚¹ä½œæˆ   |
| PUT      | `/api/news/{id}`                     | ãƒ‹ãƒ¥ãƒ¼ã‚¹æ›´æ–°   |
| DELETE   | `/api/news/{id}`                     | ãƒ‹ãƒ¥ãƒ¼ã‚¹å‰Šé™¤   |
| POST     | `/api/performances`                  | å…¬æ¼”ä½œæˆ       |
| PUT      | `/api/performances/{id}`             | å…¬æ¼”æ›´æ–°       |
| PUT      | `/api/performances/{id}/sale-status` | è²©å£²çŠ¶æ…‹æ›´æ–°   |
| DELETE   | `/api/performances/{id}`             | å…¬æ¼”å‰Šé™¤       |
| GET      | `/api/exchange-codes`                | ã‚³ãƒ¼ãƒ‰ä¸€è¦§     |
| POST     | `/api/exchange-codes`                | ã‚³ãƒ¼ãƒ‰ä½œæˆ     |
| POST     | `/api/exchange-codes/batch`          | ã‚³ãƒ¼ãƒ‰ä¸€æ‹¬ç”Ÿæˆ |
| GET      | `/api/orders`                        | æ³¨æ–‡ä¸€è¦§       |
| GET      | `/api/orders/{id}`                   | æ³¨æ–‡è©³ç´°       |
| GET      | `/api/orders/stats`                  | çµ±è¨ˆæƒ…å ±       |
| PUT      | `/api/orders/{id}/status`            | æ³¨æ–‡çŠ¶æ…‹æ›´æ–°   |
| POST     | `/api/tickets/verify`                | ãƒã‚±ãƒƒãƒˆæ¤œè¨¼   |
| POST     | `/api/tickets/check-in`              | å…¥å ´å‡¦ç†       |
| GET      | `/api/tickets/stats`                 | ãƒã‚±ãƒƒãƒˆçµ±è¨ˆ   |
| GET      | `/api/tickets/stats/today`           | æœ¬æ—¥ã®å…¥å ´çµ±è¨ˆ |

#### ğŸ§ª ãƒ†ã‚¹ãƒˆç”¨ APIï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ                | èª¬æ˜                   |
| :------- | :---------------------------- | :--------------------- |
| POST     | `/api/test/email/send`        | ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡       |
| POST     | `/api/test/email/resend/{id}` | æ³¨æ–‡ãƒ¡ãƒ¼ãƒ«å†é€ä¿¡       |
| GET      | `/api/test/email/config`      | ãƒ¡ãƒ¼ãƒ«è¨­å®šç¢ºèª         |
| POST     | `/api/webhook/test`           | Webhook ãƒ†ã‚¹ãƒˆ         |
| GET      | `/api/webhook/tickets/{id}`   | æ³¨æ–‡ãƒã‚±ãƒƒãƒˆä¸€è¦§å–å¾—   |

### 4.2 ä¸»è¦ API è©³ç´°

<details>
<summary><b>ğŸ”‘ POST /api/auth/login</b> - ãƒ­ã‚°ã‚¤ãƒ³</summary>

**Request:**

```json
{
  "email": "admin@easel.jp",
  "password": "admin123"
}
```

**Response (200):**

```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "email": "admin@easel.jp",
    "name": "ç®¡ç†è€…",
    "role": "ADMIN"
  }
}
```

</details>

<details>
<summary><b>ğŸ’³ POST /api/payment/checkout</b> - æ±ºæ¸ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ</summary>

**Request:**

```json
{
  "date": "2025-01-01",
  "dateLabel": "2025å¹´1æœˆ1æ—¥ï¼ˆæ°´ï¼‰ 14:00",
  "generalQuantity": 2,
  "reservedQuantity": 1,
  "discountedGeneralCount": 1,
  "exchangeCodes": ["TEST001"],
  "name": "å±±ç”°å¤ªéƒ",
  "email": "yamada@example.com",
  "phone": "090-1234-5678"
}
```

**Response (200):**

```json
{
  "checkoutUrl": "https://checkout.stripe.com/c/pay/cs_test_...",
  "orderId": "1"
}
```

**ä¾¡æ ¼è¨­å®š:**
| ç¨®åˆ¥ | ä¾¡æ ¼ | Stripe Price ID |
|:-----|:-----|:----------------|
| ä¸€èˆ¬å¸­ | Â¥4,500 | `price_1SbHIbHrC5XXQaL8fYhk5udi` |
| æŒ‡å®šå¸­ | Â¥5,500 | `price_1SbHHCHrC5XXQaL81l7vjRAq` |
| å¼•æ›åˆ¸é©ç”¨ | Â¥0 | å‹•çš„ç”Ÿæˆ |

</details>

<details>
<summary><b>ğŸ« POST /api/exchange-codes/validate-batch</b> - ã‚³ãƒ¼ãƒ‰ä¸€æ‹¬æ¤œè¨¼</summary>

**Request:**

```json
{
  "codes": ["TEST001", "TEST002", "INVALID"]
}
```

**Response (200):**

```json
{
  "validCount": 2,
  "results": [
    { "code": "TEST001", "valid": true, "performerName": "å±±ç”°å¤ªéƒ" },
    { "code": "TEST002", "valid": true, "performerName": "å±±ç”°å¤ªéƒ" },
    { "code": "INVALID", "valid": false, "message": "ç„¡åŠ¹ãªã‚³ãƒ¼ãƒ‰ã§ã™" }
  ]
}
```

</details>

<details>
<summary><b>ğŸ“Š GET /api/orders/stats</b> - çµ±è¨ˆæƒ…å ±</summary>

**Response (200):**

```json
{
  "totalOrders": 25,
  "totalRevenue": 125000,
  "totalTickets": 50,
  "totalGeneralTickets": 35,
  "totalReservedTickets": 15,
  "totalDiscountedTickets": 8
}
```

</details>

<details>
<summary><b>ğŸ« POST /api/tickets/verify</b> - ãƒã‚±ãƒƒãƒˆæ¤œè¨¼</summary>

**Request:**

```json
{
  "ticketCode": "123e4567-e89b-12d3-a456-426614174000"
}
```

**Response (200) - æœ‰åŠ¹ãªå ´åˆ:**

```json
{
  "valid": true,
  "message": "æœ‰åŠ¹ãªãƒã‚±ãƒƒãƒˆã§ã™",
  "ticket": {
    "id": 1,
    "ticketCode": "123e4567-e89b-12d3-a456-426614174000",
    "ticketType": "GENERAL",
    "isExchanged": false,
    "isUsed": false,
    "order": {
      "id": 1,
      "customerName": "å±±ç”°å¤ªéƒ",
      "performanceLabel": "2025å¹´1æœˆ1æ—¥ï¼ˆæ°´ï¼‰ 14:00"
    }
  }
}
```

**Response (200) - ç„¡åŠ¹ãªå ´åˆ:**

```json
{
  "valid": false,
  "error": "ã“ã®ãƒã‚±ãƒƒãƒˆã¯æ—¢ã«ä½¿ç”¨æ¸ˆã¿ã§ã™",
  "usedAt": "2025-01-01T14:30:00"
}
```

</details>

<details>
<summary><b>âœ… POST /api/tickets/check-in</b> - å…¥å ´å‡¦ç†</summary>

**Request:**

```json
{
  "ticketCode": "123e4567-e89b-12d3-a456-426614174000"
}
```

**Response (200) - æˆåŠŸ:**

```json
{
  "success": true,
  "message": "å…¥å ´ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸ",
  "ticket": {
    "id": 1,
    "ticketCode": "123e4567-e89b-12d3-a456-426614174000",
    "ticketType": "GENERAL",
    "isUsed": true,
    "order": {
      "customerName": "å±±ç”°å¤ªéƒ",
      "performanceLabel": "2025å¹´1æœˆ1æ—¥ï¼ˆæ°´ï¼‰ 14:00"
    }
  },
  "checkedInAt": "2025-01-01T14:30:00"
}
```

**Response (200) - å¤±æ•—:**

```json
{
  "success": false,
  "error": "ã“ã®ãƒã‚±ãƒƒãƒˆã¯æ—¢ã«ä½¿ç”¨æ¸ˆã¿ã§ã™"
}
```

</details>

<details>
<summary><b>ğŸ“Š GET /api/tickets/stats/today</b> - æœ¬æ—¥ã®å…¥å ´çµ±è¨ˆ</summary>

**Response (200):**

```json
{
  "totalCheckedIn": 45,
  "generalCheckedIn": 30,
  "reservedCheckedIn": 15
}
```

</details>

### 4.3 Webhook

| ã‚¤ãƒ™ãƒ³ãƒˆ                        | å‡¦ç†                             |
| :------------------------------ | :------------------------------- |
| `checkout.session.completed`    | æ³¨æ–‡ â†’ `PAID`ã€å¼•æ›åˆ¸ â†’ ä½¿ç”¨æ¸ˆã¿ã€ãƒã‚±ãƒƒãƒˆç™ºè¡Œ |
| `checkout.session.expired`      | æ³¨æ–‡ â†’ `CANCELLED`               |
| `payment_intent.payment_failed` | ãƒ­ã‚°å‡ºåŠ›                         |

### 4.4 å…¥å ´ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½

#### æ¦‚è¦

ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ã¦ã€QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ãƒã‚±ãƒƒãƒˆã®æœ‰åŠ¹æ€§ã‚’æ¤œè¨¼ã—ã€å…¥å ´å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚

#### æŠ€è¡“ä»•æ§˜

| é …ç›®           | è©³ç´°                                |
| :------------- | :---------------------------------- |
| **å®Ÿè£…æ–¹å¼**   | PWA / Web ãƒ™ãƒ¼ã‚¹                    |
| **ã‚«ãƒ¡ãƒ©API**  | HTML5 Media Streams API (getUserMedia) |
| **QRãƒªãƒ¼ãƒ€ãƒ¼** | ZXing Browser (`@zxing/browser`)    |
| **å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶** | iOS Safari 11+, Android Chrome 53+ |
| **é€šä¿¡è¦ä»¶**   | HTTPS å¿…é ˆï¼ˆlocalhost ã¯ä¾‹å¤–ï¼‰      |

#### æ©Ÿèƒ½

1. **ã‚«ãƒ¡ãƒ©ãƒ¢ãƒ¼ãƒ‰**
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³
   - è‡ªå‹•ãƒã‚±ãƒƒãƒˆæ¤œè¨¼ãƒ»å…¥å ´å‡¦ç†
   - è¦–è¦šãƒ»è´è¦šãƒ»è§¦è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

2. **æ‰‹å‹•å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰**
   - ã‚«ãƒ¡ãƒ©ãŒä½¿ãˆãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
   - ãƒã‚±ãƒƒãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆUUIDï¼‰ã®æ‰‹å…¥åŠ›

3. **ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**
   - ğŸŸ¢ **æœ‰åŠ¹**: ç·‘ç”»é¢ + ãƒ“ãƒ¼ãƒ—éŸ³ + æŒ¯å‹•
   - ğŸ”´ **ã‚¨ãƒ©ãƒ¼**: èµ¤ç”»é¢ + ã‚¨ãƒ©ãƒ¼éŸ³ + æŒ¯å‹•
   - ğŸŸ¡ **ä½¿ç”¨æ¸ˆã¿**: é»„è‰²ç”»é¢ + è­¦å‘ŠéŸ³

4. **çµ±è¨ˆæƒ…å ±**
   - æœ¬æ—¥ã®å…¥å ´è€…æ•°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
   - ä¸€èˆ¬å¸­/æŒ‡å®šå¸­ã®å†…è¨³è¡¨ç¤º

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QRã‚¹ã‚­ãƒ£ãƒ³  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ãƒã‚±ãƒƒãƒˆæ¤œè¨¼ â”‚ â† POST /api/tickets/verify
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ ç„¡åŠ¹ â”€â”€â–¶ âŒ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…¥å ´å‡¦ç†   â”‚ â† POST /api/tickets/check-in
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… å…¥å ´å®Œäº† â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ

### 5.1 ãƒšãƒ¼ã‚¸ä¸€è¦§

#### ğŸŒ å…¬é–‹ãƒšãƒ¼ã‚¸

| ãƒ‘ã‚¹                              | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | èª¬æ˜             |
| :-------------------------------- | :------------- | :--------------- |
| `/`                               | `Top`          | ãƒˆãƒƒãƒ—           |
| `/about`                          | `About`        | easel ã«ã¤ã„ã¦   |
| `/easel-live`                     | `EaselLiveTop` | å…¬æ¼”ãƒˆãƒƒãƒ—       |
| `/easel-live/vol1`                | `Vol1Detail`   | Vol.1 è©³ç´°       |
| `/easel-live/vol1/gallery`        | `Vol1Gallery`  | Vol.1 ã‚®ãƒ£ãƒ©ãƒªãƒ¼ |
| `/easel-live/vol2`                | `Vol2Detail`   | Vol.2 è©³ç´°       |
| `/easel-live/vol2/ticket`         | `Purchase`     | ãƒã‚±ãƒƒãƒˆè³¼å…¥     |
| `/easel-live/vol2/ticket/confirm` | `Confirm`      | è³¼å…¥ç¢ºèª         |
| `/easel-live/vol2/ticket/success` | `Success`      | è³¼å…¥å®Œäº†         |
| `/easel-live/vol2/ticket/cancel`  | `Cancel`       | ã‚­ãƒ£ãƒ³ã‚»ãƒ«       |
| `/community`                      | `Community`    | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£     |
| `/goods`                          | `Goods`        | ã‚°ãƒƒã‚º           |
| `/news`                           | `NewsList`     | ãƒ‹ãƒ¥ãƒ¼ã‚¹ä¸€è¦§     |
| `/news/:id`                       | `NewsDetail`   | ãƒ‹ãƒ¥ãƒ¼ã‚¹è©³ç´°     |
| `/contact`                        | `Contact`      | ãŠå•ã„åˆã‚ã›     |

#### ğŸ”’ ç®¡ç†ç”»é¢

| ãƒ‘ã‚¹                    | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ       | èª¬æ˜                       |
| :---------------------- | :------------------- | :------------------------- |
| `/admin/login`          | `Login`              | ãƒ­ã‚°ã‚¤ãƒ³                   |
| `/admin`                | `Dashboard`          | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰             |
| `/admin/news`           | `NewsAdmin`          | ãƒ‹ãƒ¥ãƒ¼ã‚¹ç®¡ç†               |
| `/admin/performances`   | `PerformancesAdmin`  | å…¬æ¼”ç®¡ç†                   |
| `/admin/exchange-codes` | `ExchangeCodesAdmin` | ã‚³ãƒ¼ãƒ‰ç®¡ç†                 |
| `/admin/tickets`        | `TicketsAdmin`       | ãƒã‚±ãƒƒãƒˆç®¡ç†               |
| `/admin/check-in`       | `CheckIn`            | å…¥å ´ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ¢ãƒã‚¤ãƒ«ç‰¹åŒ–ï¼‰|

---

## 6. èªè¨¼ãƒ»èªå¯

### 6.1 èªè¨¼ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  1. POST /api/auth/login  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Server â”‚
â”‚        â”‚                           â”‚        â”‚
â”‚        â”‚  2. JWT Token             â”‚        â”‚
â”‚        â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚        â”‚
â”‚        â”‚                           â”‚        â”‚
â”‚        â”‚  3. Request + Bearer Tokenâ”‚        â”‚
â”‚        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚        â”‚
â”‚        â”‚                           â”‚        â”‚
â”‚        â”‚  4. Response              â”‚        â”‚
â”‚        â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 JWT è¨­å®š

| é …ç›®         | å€¤                              |
| :----------- | :------------------------------ |
| ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  | HS256                           |
| æœ‰åŠ¹æœŸé™     | 24 æ™‚é–“                         |
| ãƒ˜ãƒƒãƒ€ãƒ¼     | `Authorization: Bearer {token}` |

### 6.3 æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹

| ãƒªã‚½ãƒ¼ã‚¹     | å…¬é–‹ | ADMIN | SUPER_ADMIN |
| :----------- | :--: | :---: | :---------: |
| ãƒ‹ãƒ¥ãƒ¼ã‚¹é–²è¦§ |  âœ…  |  âœ…   |     âœ…      |
| ãƒ‹ãƒ¥ãƒ¼ã‚¹ç·¨é›† |  âŒ  |  âœ…   |     âœ…      |
| å…¬æ¼”é–²è¦§     |  âœ…  |  âœ…   |     âœ…      |
| å…¬æ¼”ç·¨é›†     |  âŒ  |  âœ…   |     âœ…      |
| ã‚³ãƒ¼ãƒ‰æ¤œè¨¼   |  âœ…  |  âœ…   |     âœ…      |
| ã‚³ãƒ¼ãƒ‰ç®¡ç†   |  âŒ  |  âœ…   |     âœ…      |
| æ³¨æ–‡ç®¡ç†     |  âŒ  |  âœ…   |     âœ…      |

---

## 7. ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### 7.1 ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

| åå‰     | ã‚³ãƒ¼ãƒ‰    | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼                                        | ç”¨é€”       |
| :------- | :-------- | :------------------------------------------------ | :--------- |
| warm-50  | `#F2F0E6` | ![](https://via.placeholder.com/20/F2F0E6/F2F0E6) | Hero èƒŒæ™¯  |
| warm-100 | `#ebe8dc` | ![](https://via.placeholder.com/20/ebe8dc/ebe8dc) | ä¸­é–“è‰²     |
| warm-200 | `#e0dccf` | ![](https://via.placeholder.com/20/e0dccf/e0dccf) | ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ |

#### ãƒ­ã‚´ã‚«ãƒ©ãƒ¼

| æ–‡å­—   | ã‚³ãƒ¼ãƒ‰    | RGB           |
| :----- | :-------- | :------------ |
| "ease" | `#5a6e32` | R90 G110 B50  |
| "l"    | `#8c6e5a` | R140 G110 B90 |

### 7.2 Hero Section

```css
.hero-section {
  min-height: 300px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  background-color: var(--warm-50); /* #F2F0E6 */
}
```

---

## 8. ç’°å¢ƒè¨­å®š

### 8.1 å¿…è¦ãªç’°å¢ƒå¤‰æ•°

```properties
# ===================
# Server
# ===================
server.port=8080
app.frontend.url=http://localhost:5173

# ===================
# Database
# ===================
spring.datasource.url=jdbc:mysql://localhost:3306/easel_db
spring.datasource.username=root
spring.datasource.password=root

# ===================
# Stripe
# ===================
stripe.api.key=sk_test_xxxxx
stripe.webhook.secret=whsec_xxxxx

# ===================
# JWT
# ===================
jwt.secret=your-256-bit-secret-key-here
jwt.expiration=86400000

# ===================
# Mail (Gmail)
# ===================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${MAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
app.mail.from-name=easel
```

### 8.2 é–‹ç™ºç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

| ç”¨é€”   | Email            | Password   |
| :----- | :--------------- | :--------- |
| ç®¡ç†è€… | `admin@easel.jp` | `admin123` |

### 8.3 é–‹ç™ºç”¨å¼•æ›åˆ¸ã‚³ãƒ¼ãƒ‰

| ã‚³ãƒ¼ãƒ‰    | å‡ºæ¼”è€…   | çŠ¶æ…‹   |
| :-------- | :------- | :----- |
| `TEST001` | å±±ç”°å¤ªéƒ | æœªä½¿ç”¨ |
| `TEST002` | å±±ç”°å¤ªéƒ | æœªä½¿ç”¨ |
| `TEST003` | éˆ´æœ¨èŠ±å­ | æœªä½¿ç”¨ |
| `ABC123`  | ä½è—¤ä¸€éƒ | æœªä½¿ç”¨ |
| `XYZ789`  | ç”°ä¸­ç¾å’² | æœªä½¿ç”¨ |

---

## 9. ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### å®Ÿè£…æ¸ˆã¿ âœ…

- [x] ãƒ‹ãƒ¥ãƒ¼ã‚¹ç®¡ç†
- [x] å…¬æ¼”ç®¡ç†
- [x] ãƒã‚±ãƒƒãƒˆè³¼å…¥ãƒ•ãƒ­ãƒ¼
- [x] å¼•æ›åˆ¸ã‚³ãƒ¼ãƒ‰æ©Ÿèƒ½
- [x] Stripe æ±ºæ¸ˆé€£æº
- [x] Webhook é€£æº
- [x] å€‹åˆ¥ãƒã‚±ãƒƒãƒˆç™ºè¡Œ
- [x] ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼ˆè³¼å…¥å®Œäº†ï¼‰
- [x] QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼ˆãƒã‚±ãƒƒãƒˆï¼‰
- [x] å…¥å ´ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰
- [x] JWT èªè¨¼
- [x] ç®¡ç†ç”»é¢ (CMS)

### äºˆå®š ğŸ“‹

| æ©Ÿèƒ½               | å„ªå…ˆåº¦ | çŠ¶æ…‹   |
| :----------------- | :----: | :----- |
| åº§å¸­é¸æŠæ©Ÿèƒ½       | ğŸŸ¡ ä¸­  | æœªå®Ÿè£… |
| è¤‡æ•°å…¬æ¼”å¯¾å¿œ       | ğŸŸ¡ ä¸­  | éƒ¨åˆ†çš„ |
| è¿”é‡‘å‡¦ç†ï¼ˆAPIï¼‰    | ğŸŸ¡ ä¸­  | æœªå®Ÿè£… |
| ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† | ğŸŸ¢ ä½  | æœªå®Ÿè£… |
| ã‚¢ã‚¯ã‚»ã‚¹è§£æ       | ğŸŸ¢ ä½  | æœªå®Ÿè£… |

---

## ğŸ“ å¤‰æ›´å±¥æ­´

| æ—¥ä»˜       | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å†…å®¹                                                                      |
| :--------- | :--------- | :------------------------------------------------------------------------ |
| 2025-12-11 | 1.2.0      | QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ©Ÿèƒ½å®Ÿè£…ã€å…¥å ´ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½è¿½åŠ ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰                |
| 2025-12-11 | 1.1.0      | ãƒ¡ãƒ¼ãƒ«é€ä¿¡æ©Ÿèƒ½å®Ÿè£…ã€å€‹åˆ¥ãƒã‚±ãƒƒãƒˆç™ºè¡Œæ©Ÿèƒ½è¿½åŠ ã€ç®¡ç†ç”»é¢åˆ·æ–°                |
| 2025-12-09 | 1.0.0      | åˆç‰ˆä½œæˆ                                                                  |

---

<div align="center">

**easel** - æ¼”åŠ‡ãƒ»å…¬æ¼”ãƒã‚±ãƒƒãƒˆè²©å£²ã‚·ã‚¹ãƒ†ãƒ 

</div>
